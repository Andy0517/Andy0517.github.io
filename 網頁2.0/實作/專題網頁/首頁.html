<!DOCTYPE html>
<html>
	<link rel="stylesheet" type="text/css" href="./style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
	<script src="https://www.gstatic.com/firebasejs/5.5.8/firebase.js"></script>
<head>
	<meta charset="utf-8">
	<title>智慧型環境監測系統</title>
</head>
<script>
	$(document).ready(function(){
    /*$(".button1").click(function(){
        $("#stage").attr("alt", "我是1F");
    });
    $(".button2").click(function(){
        $("#stage").attr("alt", "我是2F");
    });
    $(".button3").click(function(){
        $("#stage").attr("alt", "我是3F");
    });
    $(".button4").click(function(){
        $("#stage").attr("alt", "我是4F");
    });
    $(".button5").click(function(){
        $("#stage").attr("alt", "我是5F");
    });
    $(".button6").click(function(){
        $("#stage").attr("alt", "我是6F");
    });
    $(".button7").click(function(){
        $("#stage").attr("alt", "我是7F");
    });
    $(".button8").click(function(){
        $("#stage").attr("alt", "我是8F");
    });
    $(".button9").click(function(){
        $("#stage").attr("alt", "我是9F");
    });
    $(".button10").click(function(){
        $("#stage").attr("alt", "我是10F");
    });*/
    var chose = true;
    $(".button_list").click(function(){
    	if(chose == true){
        $(".right_box").animate({
                right:"3px"  
            },2000);
        $(".img").animate({
                left:"-100px"  
            },2000);
        chose = false;
        return chose;
    	}
    	if(chose == false){
    		$(".right_box").animate({
                right:"-500px"  
            },2000);
        $(".img").animate({
                left:"0px"  
            },2000);
        chose = true;
        return chose;
    	}
    });
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBeIR55eFK_d9rvd7MGvYF8qZUqfcYwo-U",
    authDomain: "dht11-17f44.firebaseapp.com",
    databaseURL: "https://dht11-17f44.firebaseio.com",
    projectId: "dht11-17f44",
    storageBucket: "dht11-17f44.appspot.com",
    messagingSenderId: "196282873929"
  };

	firebase.initializeApp(config);
	//讀取最新的資料
	function get_data(number,kind){
		for(var i=0; i<100000; i++){
			var userRef = firebase.database().ref('/record/'+number);
  			userRef.on('value', function(snapshot) {
	  			$.each(snapshot.val(),function(k,v){
	  				if(kind=='tem'){
	  					$('#tem'+number).attr('value', v.tem);
	          			return false;
	          		}
	          		if(kind=='hum'){
	  					$('#hum'+number).attr('value', v.hum);
	          			return false;
	          		}
	          	})
			});
  	}
		}
	get_data('101','tem');
	get_data('101','hum');
  });
</script>
<body>
<center>
	<h1 class="title">
		智慧型環境監測系統
	</h1>
	<ul class="label">
		<li class="button button1" style="margin-left: -20px;">
		<h2>1F</h2>
		</li>
		<li class="button button2">
		<h2>2F</h2>
		</li>
		<li class="button button3">
		<h2>3F</h2>
		</li>
		<li class="button button4">
		<h2>4F</h2>
		</li>
		<li class="button button5">
		<h2>5F</h2>
		</li>
		<li class="button button6" style="margin-left: -20px;">
		<h2>6F</h2>
		</li>
		<li class="button button7">
		<h2>7F</h2>
		</li>
		<li class="button button8">
		<h2>8F</h2>
		</li>
		<li class="button button9">
		<h2>9F</h2>
		</li>
		<li class="button button10">
		<h2>10F</h2>
		</li>
		<button class="button_list" style="padding: 3px;">
		<center>
			<div style="background-color: white;width: 55px;height: 5px;margin: 15px;border-radius: 5px;cursor:pointer"></div>
			<div style="background-color: white;width: 55px;height: 5px;margin: 15px;border-radius: 5px;cursor:pointer"></div>
			<div style="background-color: white;width: 55px;height: 5px;margin: 15px;border-radius: 5px;cursor:pointer"></div>
		</center>
		</button>
	</ul>
		<!--<img alt="我是1F" src="#" id="stage">-->
	<center class="data" style = "width: 1550px; display: inline-block;overflow: hidden;">
			<div style = "width:1300px;height: 600px;background-color: white;display: inline-block;border: solid 5px;margin-top: 5px;" class="img">	
			</div>
		<div class="right_box">
			<div class="dot">
			<center><b>100</b></br>
			溫度 : <input id="tem100" value="偵測中..." style="width: 50px;">濕度 : <input id="hum100" value="偵測中..." style="width: 50px;">
			</center>
			</div>
			<div class="dot">
			<center><b>101</b></br>
			溫度 : <input id="tem101" value="偵測中..." style="width: 50px;">濕度 : <input id="hum101" value="偵測中..." style="width: 50px;">
			</center>
			</div>
			<div class="dot">
			<center><b>102</b></br>
			溫度 : <input id="tem102" value="偵測中..." style="width: 50px;">濕度 : <input id="hum102" value="偵測中..." style="width: 50px;">
			</center>
			</div>
			<div class="dot">
			<center><b>103</b></br>
			溫度 : <input id="tem103" value="偵測中..." style="width: 50px;">濕度 : <input id="hum103" value="偵測中..." style="width: 50px;">
			</center>
			</div>
		</div>
	</center>
	</body>
</html>
